<!DOCTYPE html>
<html>
<head>
	<title>Prediction Page</title>
</head>
<body>
	<h1>PM10 Prediction</h1>
	<form id="prediction-form" method="POST">
		<input type="submit" value="Predict">
	</form>
	<div id="prediction-result"></div>

	<script>
		const form = document.getElementById('prediction-form');
		const result = document.getElementById('prediction-result');

		form.addEventListener('submit', async (event) => {
			event.preventDefault();

			const response = await fetch('http://localhost:5000/air/predict/', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({
          "pm2.5": 6,
          "nadm_visina": 279,        
          "o3": 74,
          "benzen": 1.5,
          "ge_sirina": 46.568683,
          "co": 0.4,
          "no2": 15,
          "ge_dolzina": 15.631008,
          "so2": 3,
          "CE Ljubljanska": 0,
          "CE bolnica": 0,
          "Hrastnik": 0,
          "Iskrba": 0,
          "Koper": 0,
          "Kranj": 0,
          "Krvavec": 0,
          "LJ Bežigrad": 0,
          "LJ Celovška": 0,
          "LJ Vič": 0,
          "MB Titova": 0,
          "MB Vrbanski": 1,
          "MS Cankarjeva": 0,
          "MS Rakičan": 0,
          "NG Grčna": 0,
          "Novo mesto": 0,
          "Otlica": 0,
          "Ptuj": 0,
          "Rečica v I.Bistrici": 0,
          "Trbovlje": 0,
          "Zagorje": 0,
          "promet": 110.500
				})
			});

			const prediction = await response.json();
			result.innerHTML = `Prediction: ${prediction.prediction}`;
		});
	</script>
</body>
</html>
